{"version":3,"sources":["components/Persons/Person.js","components/Persons/Persons.js","components/Persons/PersonForm.js","components/FIlter.js","components/services/persons.js","components/notification/Notification.js","components/App.js","index.js"],"names":["Person","person","handleDelete","name","number","onClick","id","Persons","props","persons","map","key","PersonForm","handleSetName","handleSubmit","newName","newNumber","handleSetNumber","onSubmit","value","onChange","type","Filter","handleFilter","baseUrl","axios","get","then","response","data","newObject","put","post","delete","Notification","message","setMessage","setTimeout","className","App","useState","setPersons","setNewName","setNewNumber","showAll","setShowAll","filtervalue","setFilterValue","noticeType","setNoticeType","useEffect","personService","contacts","filter","toLowerCase","includes","e","target","preventDefault","personExist","find","window","confirm","updatePerson","catch","error","newPerson","console","log","personToDelete","p","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.5449b7e2.chunk.js","sourcesContent":["import React from 'react'\n\nconst Person = ({ person, handleDelete }) => (\n  <div>\n    {person.name} {person.number}{' '}\n    <button onClick={() => handleDelete(person.id)}>\n      delete\n    </button>\n  </div>\n)\n\nexport default Person","import React from 'react';\nimport Person from './Person'\n\nconst Persons = (props) => {\n  const { persons, handleDelete } = props;\n\n  return (\n    <div>\n      {persons.map(person =>\n        <Person\n          key={person.name}\n          person={person}\n          handleDelete={handleDelete}\n        />\n      )}\n    </div>\n  )\n}\n\nexport default Persons;","import React from 'react'\n\nconst PersonForm = (props) => {\n  const {\n    handleSetName,\n    handleSubmit,\n    newName,\n    newNumber,\n    handleSetNumber\n  } = props;\n\n  return (\n    <form onSubmit={handleSubmit}>\n      <div>\n        name: <input value={newName} onChange={handleSetName} />\n      </div>\n      <div>\n        number: <input value={newNumber} onChange={handleSetNumber}/>\n      </div>\n      <div>\n        <button type=\"submit\">add</button>\n      </div>\n    </form>\n  )\n}\n\nexport default PersonForm","import React from 'react'\n\nconst Filter = ({handleFilter}) => {\n  return (\n    <div>\n      filter shown with: <input onChange={handleFilter}/>\n    </div>\n  )\n}\n\nexport default Filter","import axios from 'axios'\n\nconst baseUrl = '/api/persons'\n\nconst getAll = () => {\n  const request = axios.get(baseUrl)\n    .then(response => response.data)\n\n    return request;\n}\n\n\nconst update = (id, newObject) => {\n  const request = axios.put(`${baseUrl}/${id}`, newObject)\n    .then(response => response.data)\n    return request\n}\n\nconst create = newObject => {\n  const request = axios.post(baseUrl, newObject)\n    .then(response => response.data)\n  \n  return request\n}\n\nconst destroy = id => {\n  const request = axios.delete(`${baseUrl}/${id}`)\n\n    return request\n}\n\nexport default { getAll, update, create, destroy }","import React from 'react'\n\nconst Notification = ({message, type, setMessage }) => {\n  if (message === null) {\n    return null\n  }\n\n  setTimeout(() => setMessage(null), 5000)\n\n  return (\n    <div className={type}>\n      {message}\n    </div>\n  )\n}\n\nexport default Notification","import React, { useState, useEffect } from 'react'\nimport Persons from './Persons/Persons'\nimport PersonForm from './Persons/PersonForm'\nimport Filter from './FIlter'\nimport personService from './services/persons'\nimport Notification from './notification/Notification'\n\nconst App = () => {\n  const [ persons, setPersons] = useState([])\n\n  const [ newName, setNewName ] = useState('')\n  const [newNumber, setNewNumber] = useState('')\n  const [showAll, setShowAll] = useState(true)\n  const [filtervalue, setFilterValue] = useState('')\n  const [message, setMessage] = useState(null)\n  const [noticeType, setNoticeType] = useState('')\n\n  useEffect(() => {\n    personService\n    .getAll()\n    .then(data => {\n      setPersons(data)\n    })\n\n  },[])\n\n  const handleSetName = (e) => {\n    setNewName(e.target.value)\n  }\n\n  const handleSetNumber = (e) => {\n    setNewNumber(e.target.value)\n  }\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    const personExist = persons.find(person => \n      person.name.toLowerCase() === newName.toLowerCase()\n    )\n    \n    if (personExist) {\n\n      if(window.confirm(\n        `${newName}is already added to phonebook, replace the older number with the new one?`)\n      ) {\n\n        const updatePerson = {...personExist, number: newNumber}\n        const id = personExist.id\n\n        personService\n          .update(id, updatePerson)\n          .then(data => {\n            setPersons(\n              persons.map(person => person.id !== id ? person :data)\n            )\n            setMessage(`Then number for ${updatePerson.name} has been updated`)\n            setNoticeType('success')\n          })\n          .catch(error => {\n            setMessage(error.response.data.error)\n            setNoticeType('error')\n          })\n      }\n  \n      setNewName('')\n      setNewNumber('')\n      return\n    }\n  \n    const newPerson = {name: newName, number: newNumber}\n    personService\n      .create(newPerson)\n      .then(data => { console.log(data)\n        setPersons([...persons, data])\n        setMessage(`${newPerson.name} has been succesfully added to phonebook`)\n        setNoticeType('success')\n      })\n      .catch(error => {\n        setMessage(error.response.data.error)\n        setNoticeType('error')\n      })\n  }\n\n  const handleFilter = (e) => {\n    const value = e.target.value;\n    if (value) {\n      setShowAll(false)\n      setFilterValue(value)\n    } else {\n      setShowAll(true)\n      setFilterValue('')\n    }\n  }\n\n  const handleDelete = (id) => {\n    const personToDelete = persons.find(p => p.id === id);\n    if (window.confirm(`Delete ${personToDelete.name}?`)) {\n\n      personService\n      .destroy(id)\n      .then(() => {\n\n        setPersons(persons.filter(person => person.id !== id))\n        setMessage(`${personToDelete.name} has been succesfully removed from server`)\n        setNoticeType('success')\n    \n      })\n      .catch(error => {\n        setMessage(error.response.data.error)\n        setNoticeType('error')\n        setPersons(persons.filter(person => person.id !== id))\n      })\n    }\n  }\n\n  const contacts = showAll \n    ? persons\n    : persons.filter(person => \n        person.name.toLowerCase().includes(filtervalue.toLowerCase())\n      )\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      {message && (\n        <Notification \n          message={message}\n          type={noticeType}\n          setMessage={setMessage}\n        />\n      )}\n      <Filter handleFilter={handleFilter} />\n  \n      <h3>Add a new</h3>\n    \n      <PersonForm\n        handleSubmit={handleSubmit}\n        handleSetName={handleSetName}\n        handleSetNumber={handleSetNumber}\n        newName={newName}\n        newNumber={newNumber}\n      />\n      <h2>Numbers</h2>\n      <Persons\n        persons={contacts} \n        handleDelete={handleDelete}\n      />\n    </div>\n  )\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/App';\nimport './index.css'\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}